function forms(){$("input,textarea").focus((function(){$(this).val()==$(this).attr("data-value")&&($(this).addClass("focus"),$(this).parent().addClass("focus"),"pass"==$(this).attr("data-type")&&$(this).attr("type","password"),$(this).val("")),removeError($(this))})),$("input[data-value], textarea[data-value]").each((function(){""!=this.value&&this.value!=$(this).attr("data-value")||(this.value=$(this).attr("data-value"),$(this).hasClass("l")&&0==$(this).parent().find(".form__label").length&&$(this).parent().append('<div class="form__label">'+$(this).attr("data-value")+"</div>")),this.value!=$(this).attr("data-value")&&""!=this.value&&($(this).addClass("focus"),$(this).parent().addClass("focus"),$(this).hasClass("l")&&0==$(this).parent().find(".form__label").length&&$(this).parent().append('<div class="form__label">'+$(this).attr("data-value")+"</div>")),$(this).click((function(){this.value==$(this).attr("data-value")&&("pass"==$(this).attr("data-type")&&$(this).attr("type","password"),this.value="")})),$(this).blur((function(){""==this.value&&(this.value=$(this).attr("data-value"),$(this).removeClass("focus"),$(this).parent().removeClass("focus"),"pass"==$(this).attr("data-type")&&$(this).attr("type","text"))}))})),$(".form-input__viewpass").click((function(e){$(this).hasClass("active")?$(this).parent().find("input").attr("type","password"):$(this).parent().find("input").attr("type","text"),$(this).toggleClass("active")})),$.each($("input.phone"),(function(e,t){$(this).attr("type","tel"),$(this).focus((function(){$(this).inputmask("+7 (999) 999-99-99",{clearIncomplete:!0,clearMaskOnLostFocus:!0,onincomplete:function(){maskclear($(this))}}),$(this).addClass("focus"),$(this).parent().addClass("focus"),$(this).parent().removeClass("err"),$(this).removeClass("err")}))})),$("input.phone").focusout((function(e){maskclear($(this))})),$.each($("input.num"),(function(e,t){$(this).focus((function(){$(this).inputmask("9{1,1000}",{clearIncomplete:!0,placeholder:"",clearMaskOnLostFocus:!0,onincomplete:function(){maskclear($(this))}}),$(this).addClass("focus"),$(this).parent().addClass("focus"),$(this).parent().removeClass("err"),$(this).removeClass("err")}))})),$("input.num").focusout((function(e){maskclear($(this))}))}function digi(e){return e.toString().replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ")}function formValidate(e){var t=0;e.parents("form");if("email"==e.attr("name")||e.hasClass("email")){if(e.val()!=e.attr("data-value")){var s=e.val().replace(" ","");e.val(s)}/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+$/.test(e.val())&&e.val()!=e.attr("data-value")?removeError(e):(t++,addError(e))}else""==e.val()||e.val()==e.attr("data-value")?(t++,addError(e)):removeError(e);return e.hasClass("name")&&(/^[А-Яа-яa-zA-Z-]+( [А-Яа-яa-zA-Z-]+)$/.test(e.val())||(t++,addError(e))),t}function formLoad(){$(".popup").hide(),$(".popup-message-body").hide(),$(".popup-message .popup-body").append('<div class="popup-loading"><div class="popup-loading__title">Идет загрузка...</div><div class="popup-loading__icon"></div></div>'),$(".popup-message").addClass("active").fadeIn(300)}function showMessageByClass(e){$(".popup").hide(),popupOpen("message."+e,"")}function showMessage(e){$(".popup-loading").remove(),$(".popup-message-body").show().html(e)}function clearForm(e){$.each(e.find(".input"),(function(e,t){$(this).removeClass("focus").val($(this).data("value")),$(this).parent().removeClass("focus"),$(this).hasClass("phone")&&maskclear($(this))}))}function addError(e){if(e.addClass("err"),e.parent().addClass("err"),e.parent().find(".form__error").remove(),e.hasClass("email")){var t="";null!=(t=(""==e.val()||(e.val(),e.attr("data-value")),e.data("error")))&&e.parent().append('<div class="form__error">'+t+"</div>")}else null!=e.data("error")&&0==e.parent().find(".form__error").length&&e.parent().append('<div class="form__error">'+e.data("error")+"</div>");e.parents(".select-block").length>0&&(e.parents(".select-block").parent().addClass("err"),e.parents(".select-block").find(".select").addClass("err"))}function addErrorByName(e,t,s){var a=e.find('[name="'+t+'"]');a.attr("data-error",s),addError(a)}function addFormError(e,t){e.find(".form__generalerror").show().html(t)}function removeFormError(e){e.find(".form__generalerror").hide().html("")}function removeError(e){e.removeClass("err"),e.parent().removeClass("err"),e.parent().find(".form__error").remove(),e.parents(".select-block").length>0&&(e.parents(".select-block").parent().removeClass("err"),e.parents(".select-block").find(".select").removeClass("err").removeClass("active"))}function removeFormErrors(e){e.find(".err").removeClass("err"),e.find(".form__error").remove()}function maskclear(e){""==e.val()&&(e.inputmask("remove"),e.val(e.attr("data-value")),e.removeClass("focus"),e.parent().removeClass("focus"))}forms(),$("form button[type=submit]").click((function(){var e=0,t=$(this).parents("form"),s=t.data("ms");return $.each(t.find(".req"),(function(t,s){e+=formValidate($(this))})),0==e&&(removeFormError(t),null!=s&&""!=s?(showMessageByClass(s),!1):void 0)}));var isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};function isIE(){return ua=navigator.userAgent,ua.indexOf("MSIE ")>-1||ua.indexOf("Trident/")>-1}function ibg(){if(isIE())for(var e=document.querySelectorAll(".ibg"),t=0;t<e.length;t++)e[t].querySelector("img")&&null!=e[t].querySelector("img").getAttribute("src")&&(e[t].style.backgroundImage="url("+e[t].querySelector("img").getAttribute("src")+")")}if(isMobile.any(),isIE()&&document.querySelector("body").classList.add("ie"),ibg(),location.hash){var hsh=location.hash.replace("#","");$(".popup-"+hsh).length>0?popupOpen(hsh):$("div."+hsh).length>0&&$("body,html").animate({scrollTop:$("div."+hsh).offset().top},500,(function(){}))}$(".wrapper").addClass("loaded");var act="click";if(isMobile.iOS())act="touchstart";function popupOpen(e,t){$(".popup").removeClass("active").hide(),$(".header-menu").hasClass("active")||$("body").data("scroll",$(window).scrollTop()),isMobile.any()?setTimeout((function(){$("body").addClass("lock")}),300):($("body").css({paddingRight:$(window).outerWidth()-$(".wrapper").outerWidth()}).addClass("lock"),$(".pdb").css({paddingRight:$(window).outerWidth()-$(".wrapper").outerWidth()})),history.pushState("","","#"+e),""!=t&&null!=t&&$(".popup-"+e+" .popup-video__value").html('<iframe src="https://www.youtube.com/embed/'+t+'?autoplay=1"  allow="autoplay; encrypted-media" allowfullscreen></iframe>'),$(".popup-"+e).fadeIn(300).delay(300).addClass("active"),$(".popup-"+e).find(".slick-slider").length>0&&$(".popup-"+e).find(".slick-slider").slick("setPosition")}function openPopupById(e){$("#"+e).fadeIn(300).delay(300).addClass("active")}function popupClose(){$(".popup").removeClass("active").fadeOut(300),$(".header-menu").hasClass("active")||(isMobile.any()?$("body").removeClass("lock"):(setTimeout((function(){$("body").css({paddingRight:0}),$(".pdb").css({paddingRight:0})}),200),setTimeout((function(){$("body").removeClass("lock")}),200))),$(".popup-video__value").html(""),history.pushState("","",window.location.href.split("#")[0])}function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}function map(e){google.maps.Map.prototype.setCenterWithOffset=function(e,t,s){var a=this,o=new google.maps.OverlayView;o.onAdd=function(){var o=this.getProjection(),i=o.fromLatLngToContainerPixel(e);i.x=i.x+t,i.y=i.y+s,a.panTo(o.fromContainerPixelToLatLng(i))},o.draw=function(){},o.setMap(this)};for(var t=new Array,s=new google.maps.InfoWindow({}),a=[[new google.maps.LatLng(53.819055,27.8813694)],[new google.maps.LatLng(53.700055,27.5513694)],[new google.maps.LatLng(53.809055,27.5813694)],[new google.maps.LatLng(53.859055,27.5013694)]],o={zoom:10,panControl:!1,mapTypeControl:!1,center:a[0][0],styles:[{featureType:"landscape.natural",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#e0efef"}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{visibility:"on"},{hue:"#1900ff"},{color:"#c0e8e8"}]},{featureType:"road",elementType:"geometry",stylers:[{lightness:100},{visibility:"simplified"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{visibility:"on"},{lightness:700}]},{featureType:"water",elementType:"all",stylers:[{color:"#7dcdcd"}]}],scrollwheel:!1,mapTypeId:google.maps.MapTypeId.ROADMAP},i=new google.maps.Map(document.getElementById("map"),o),r={url:"",scaledSize:new google.maps.Size(18,20),anchor:new google.maps.Point(9,10)},n=0;n<a.length;n++){var l=new google.maps.Marker({icon:r,position:a[n][0],map:i});google.maps.event.addListener(l,"click",function(e,a){return function(){for(var o=0;o<t.length;o++)t[o].setIcon(r);var n=a+1;s.setContent($(".contacts-map-item_"+n).html()),s.open(i,e),e.setIcon(r),i.setCenterWithOffset(e.getPosition(),0,0),setTimeout((function(){baloonstyle()}),10)}}(l,n)),t.push(l)}if(e){var d=e-1;setTimeout((function(){google.maps.event.trigger(t[d],"click")}),500)}}function baloonstyle(){$(".gm-style-iw").parent().addClass("baloon"),$(".gm-style-iw").prev().addClass("baloon-style"),$(".gm-style-iw").next().addClass("baloon-close"),$(".gm-style-iw").addClass("baloon-content")}$(".pl").click((function(e){return popupOpen($(this).attr("href").replace("#",""),$(this).data("vid")),!1})),$(".popup-close,.popup__close").click((function(e){return popupClose(),!1})),$(".popup").click((function(e){if(!$(e.target).is(".popup>.popup-table>.cell *")||$(e.target).is(".popup-close")||$(e.target).is(".popup__close"))return popupClose(),!1})),$(document).on("keydown",(function(e){27==e.which&&popupClose()})),$(document).on("click touchstart",(function(e){$(e.target).is(".select *")||$(".select").removeClass("active")})),$("#back-top").hide(),$((function(){$(window).scroll((function(){$(this).scrollTop()>250?$("#back-top").fadeIn():$("#back-top").fadeOut()})),$("#back-top a").click((function(){return $(window).scroll(),$("body,html").animate({scrollTop:0},800),!1}))})),$("body").on("click",".tab__navitem",(function(e){var t=$(this).index();if($(this).hasClass("parent"))t=$(this).parent().index();$(this).hasClass("active")||($(this).closest(".tabs").find(".tab__navitem").removeClass("active"),$(this).addClass("active"),$(this).closest(".tabs").find(".tab__item").removeClass("active").eq(t).addClass("active"),$(this).closest(".tabs").find(".slick-slider").length>0&&$(this).closest(".tabs").find(".slick-slider").slick("setPosition"))})),$.each($(".spoller.active"),(function(e,t){$(this).next().show()})),$("body").on("click",".spoller",(function(e){return $(this).hasClass("mob")&&!isMobile.any()||($(this).parents(".one").length>0&&($(this).parents(".one").find(".spoller").not($(this)).removeClass("active").next().slideUp(300),$(this).parents(".one").find(".spoller").not($(this)).parent().removeClass("active")),$(this).hasClass("closeall")&&!$(this).hasClass("active")&&$.each($(this).closest(".spollers").find(".spoller"),(function(e,t){$(this).removeClass("active"),$(this).next().slideUp(300)})),$(this).toggleClass("active").next().slideToggle(300,(function(e,t){$(this).parent().find(".slick-slider").length>0&&$(this).parent().find(".slick-slider").slick("setPosition")}))),!1})),testWebP((function(e){1==e&&document.querySelector("body").classList.add("webp")}));var marker=!0,section=$(".education"),sectionTop=section.offset().top;function scrollShowMap(){$("#map").length>0&&map(1),marker=!1}$(window).on("scroll",(function(){$(this).scrollTop()>sectionTop&&marker&&scrollShowMap()})),function(){let e=[],t=document.querySelectorAll("[data-da]"),s=[],a=[];if(t.length>0){let l=0;for(let a=0;a<t.length;a++){const o=t[a],n=o.getAttribute("data-da");if(""!=n){const t=n.split(","),a=t[1]?t[1].trim():"last",d=t[2]?t[2].trim():"767",p=document.querySelector("."+t[0].trim());t.length>0&&p&&(o.setAttribute("data-da-index",l),e[l]={parent:o.parentNode,index:(i=o,r=void 0,r=Array.prototype.slice.call(i.parentNode.children),r.indexOf(i))},s[l]={element:o,destination:document.querySelector("."+t[0].trim()),place:a,breakpoint:d},l++)}}(o=s).sort((function(e,t){return e.breakpoint>t.breakpoint?-1:1})),o.sort((function(e,t){return e.place>t.place?1:-1}));for(let e=0;e<s.length;e++){const t=s[e].breakpoint,o="max";a.push(window.matchMedia("("+o+"-width: "+t+"px)")),a[e].addListener(n)}}var o,i,r;function n(e){for(let e=0;e<s.length;e++){const t=s[e],o=t.element,i=t.destination,r=t.place,n="_dynamic_adapt_"+t.breakpoint;if(a[e].matches){if(!o.classList.contains(n)){let e=d(i)[r];"first"===r?e=d(i)[0]:"last"===r&&(e=d(i)[d(i).length]),i.insertBefore(o,i.children[e]),o.classList.add(n)}}else o.classList.contains(n)&&(l(o),o.classList.remove(n))}Math.max(document.documentElement.clientWidth,window.innerWidth||0)}function l(t){const s=t.getAttribute("data-da-index"),a=e[s],o=a.parent,i=a.index,r=d(o,!0)[i];o.insertBefore(t,o.children[r])}function d(e,t){const s=e.children,a=[];for(let e=0;e<s.length;e++){const o=s[e];(t||null==o.getAttribute("data-da"))&&a.push(e)}return a}n()}(),$(".gallery-offer__body").slick({lazyLoad:"ondemand",dots:!1,arrows:!0,infinite:!0,speed:600,prevArrow:".gallery-offer__arrow_prev",nextArrow:".gallery-offer__arrow_next",slidesToShow:4,slidesToScroll:1,responsive:[{breakpoint:768,settings:{slidesToShow:3}},{breakpoint:630,settings:{slidesToShow:2}},{breakpoint:485,settings:{slidesToShow:1}}]}),$(".slider-federal").slick({lazyLoad:"ondemand",dots:!1,arrows:!0,infinite:!0,speed:600,prevArrow:".federal-slider-arrow_prev",nextArrow:".federal-slider-arrow_next",slidesToShow:3,slidesToScroll:1,responsive:[{breakpoint:992,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:520,settings:{slidesToShow:1}}]}),$(".slider-parents").slick({lazyLoad:"ondemand",dots:!1,arrows:!0,infinite:!0,speed:600,prevArrow:".parents-slider-arrow_prev",nextArrow:".parents-slider-arrow_next",slidesToShow:3,slidesToScroll:1,responsive:[{breakpoint:992,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:520,settings:{slidesToShow:1}}]});